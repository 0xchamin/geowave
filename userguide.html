<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>GeoWave User Guide</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400";
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#222;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#222;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight: 300;font-style:normal;color:#222;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#222;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color: #222;margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#222;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#222;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#222;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-check-square-o:first-child,ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after,a[href^="mailto:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<!-- docinfo.html -->
<link rel="icon"
type="image/png"
href="images/geowave-icon-logo-small.png">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#geowave-user-guide">GeoWave User Guide</a>
<ul class="sectlevel1">
<li><a href="#links">Links</a>
<ul class="sectlevel2">
<li><a href="#span-class-icon-i-class-fa-fa-home-i-span-a-href-http-locationtech-github-io-geowave-target-_blank-site-a"><span class="icon"><i class="fa fa-home"></i></span> <a href="http://locationtech.github.io/geowave/" target="_blank">Site</a></a></li>
<li><a href="#span-class-icon-i-class-fa-fa-file-pdf-o-i-span-a-href-https-s3-amazonaws-com-geowave-latest-docs-userguide-pdf-target-_blank-pdf-a"><span class="icon"><i class="fa fa-file-pdf-o"></i></span> <a href="https://s3.amazonaws.com/geowave/latest/docs/userguide.pdf" target="_blank">PDF</a></a></li>
<li><a href="#span-class-icon-i-class-fa-fa-file-code-o-i-span-a-href-apidocs-index-html-target-_blank-javadoc-a"><span class="icon"><i class="fa fa-file-code-o"></i></span> <a href="apidocs/index.html" target="_blank">Javadoc</a></a></li>
<li><a href="#span-class-icon-i-class-fa-fa-file-code-o-i-span-a-href-pydocs-index-html-target-_blank-python-bindings-a"><span class="icon"><i class="fa fa-file-code-o"></i></span> <a href="pydocs/index.html" target="_blank">Python Bindings</a></a></li>
<li><a href="#span-class-icon-i-class-fa-fa-github-i-span-a-href-https-github-com-locationtech-geowave-target-_blank-github-a"><span class="icon"><i class="fa fa-github"></i></span> <a href="https://github.com/locationtech/geowave" target="_blank">GitHub</a></a></li>
<li><a href="#span-class-icon-i-class-fa-fa-file-archive-o-i-span-a-href-packages-html-target-_blank-packages-a"><span class="icon"><i class="fa fa-file-archive-o"></i></span> <a href="packages.html" target="_blank">Packages</a></a></li>
</ul>
</li>
<li><a href="#introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#what-is-geowave">What is GeoWave</a></li>
<li><a href="#origin">Origin</a></li>
<li><a href="#intent">Intent</a></li>
</ul>
</li>
<li><a href="#overview">Overview</a></li>
<li><a href="#assumptions-2">Assumptions</a>
<ul class="sectlevel2">
<li><a href="#running-geowave">Running GeoWave</a></li>
<li><a href="#external-components">External Components</a></li>
</ul>
</li>
<li><a href="#example-screenshots">Example screenshots</a>
<ul class="sectlevel2">
<li><a href="#screenshots-geolife">GeoLife</a></li>
<li><a href="#screenshots-osm-gpx">OpenStreetMap GPX Tracks</a></li>
<li><a href="#screenshots-tdrive">T-Drive</a></li>
</ul>
</li>
<li><a href="#statistics-2">Statistics</a>
<ul class="sectlevel2">
<li><a href="#table-structure">Table Structure</a></li>
</ul>
</li>
<li><a href="#tools-framework">Tools Framework</a>
<ul class="sectlevel2">
<li><a href="#geowave-command-line-instructions">GeoWave Command Line Instructions</a></li>
</ul>
</li>
<li><a href="#ingest-2">Ingest</a>
<ul class="sectlevel2">
<li><a href="#overview-2">Overview</a></li>
<li><a href="#ingest-plugins">Ingest Plugins</a></li>
<li><a href="#ingest-statistics">Ingest Statistics and Time Dimension Configuration</a></li>
</ul>
</li>
<li><a href="#analytics-overview">Analytics</a>
<ul class="sectlevel2">
<li><a href="#overview-3">Overview</a></li>
<li><a href="#running">Running</a></li>
<li><a href="#analytic-commands">Analytic Commands</a></li>
</ul>
</li>
<li><a href="#query">Query</a>
<ul class="sectlevel2">
<li><a href="#overview-4">Overview</a></li>
</ul>
</li>
<li><a href="#third-party">Third Party</a>
<ul class="sectlevel2">
<li><a href="#geoserver-2">GeoServer</a></li>
</ul>
</li>
<li><a href="#installation">Installation</a>
<ul class="sectlevel2">
<li><a href="#standalone-installers">Standalone Installers</a></li>
<li><a href="#installation-from-rpm">Installation from RPM</a></li>
</ul>
</li>
<li><a href="#running-from-emr">Running from EMR</a></li>
<li><a href="#datastore-configuration">DataStore Configuration</a>
<ul class="sectlevel2">
<li><a href="#accumulo-config">Apache Accumulo Configuration</a></li>
<li><a href="#bigtable-config">Google BigTable Configuration</a></li>
<li><a href="#hbase-config">Apache HBase Configuration</a></li>
</ul>
</li>
<li><a href="#jace-jni-proxies-2">Jace JNI Proxies</a>
<ul class="sectlevel2">
<li><a href="#prepackaged-source-and-binaries">Prepackaged Source and Binaries</a></li>
<li><a href="#generate-proxies-and-build-from-source">Generate Proxies and Build from Source</a></li>
<li><a href="#mapnik-plugin-configuration">Mapnik Plugin Configuration</a></li>
<li><a href="#pdal-plugin-configuration">PDAL Plugin Configuration</a></li>
</ul>
</li>
<li><a href="#puppet-2">Puppet</a>
<ul class="sectlevel2">
<li><a href="#overview-6">Overview</a></li>
<li><a href="#options">Options</a></li>
<li><a href="#examples-2">Examples</a></li>
<li><a href="#clustered">Clustered</a></li>
<li><a href="#puppet-script-management">Puppet script management</a></li>
</ul>
</li>
<li><a href="#appendices">Appendices</a>
<ul class="sectlevel2">
<li><a href="#version">Version</a></li>
<li><a href="#geowave-security">GeoWave Security</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><em>v1.1.0-SNAPSHOT</em></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/geowave-icon-logo-cropped.png" alt="geowave-icon-logo-cropped" width="18%"></span></p>
</div>
</div>
</div>
<h1 id="geowave-user-guide" class="sect0"><a class="anchor" href="#geowave-user-guide"></a>GeoWave User Guide</h1>
<div class="sect1">
<h2 id="links"><a class="anchor" href="#links"></a>Links</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-home-i-span-a-href-http-locationtech-github-io-geowave-target-_blank-site-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-home-i-span-a-href-http-locationtech-github-io-geowave-target-_blank-site-a"></a><span class="icon"><i class="fa fa-home"></i></span> <a href="http://locationtech.github.io/geowave/" target="_blank">Site</a></h3>

</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-file-pdf-o-i-span-a-href-https-s3-amazonaws-com-geowave-latest-docs-userguide-pdf-target-_blank-pdf-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-file-pdf-o-i-span-a-href-https-s3-amazonaws-com-geowave-latest-docs-userguide-pdf-target-_blank-pdf-a"></a><span class="icon"><i class="fa fa-file-pdf-o"></i></span> <a href="https://s3.amazonaws.com/geowave/latest/docs/userguide.pdf" target="_blank">PDF</a></h3>

</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-file-code-o-i-span-a-href-apidocs-index-html-target-_blank-javadoc-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-file-code-o-i-span-a-href-apidocs-index-html-target-_blank-javadoc-a"></a><span class="icon"><i class="fa fa-file-code-o"></i></span> <a href="apidocs/index.html" target="_blank">Javadoc</a></h3>

</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-file-code-o-i-span-a-href-pydocs-index-html-target-_blank-python-bindings-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-file-code-o-i-span-a-href-pydocs-index-html-target-_blank-python-bindings-a"></a><span class="icon"><i class="fa fa-file-code-o"></i></span> <a href="pydocs/index.html" target="_blank">Python Bindings</a></h3>

</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-github-i-span-a-href-https-github-com-locationtech-geowave-target-_blank-github-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-github-i-span-a-href-https-github-com-locationtech-geowave-target-_blank-github-a"></a><span class="icon"><i class="fa fa-github"></i></span> <a href="https://github.com/locationtech/geowave" target="_blank">GitHub</a></h3>

</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-file-archive-o-i-span-a-href-packages-html-target-_blank-packages-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-file-archive-o-i-span-a-href-packages-html-target-_blank-packages-a"></a><span class="icon"><i class="fa fa-file-archive-o"></i></span> <a href="packages.html" target="_blank">Packages</a></h3>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="what-is-geowave"><a class="anchor" href="#what-is-geowave"></a>What is GeoWave</h3>
<div class="paragraph">
<p>GeoWave is an open-source library for storage, index, and search of multi-dimensional data on top of sorted key-value datastores and popular big data frameworks. GeoWave includes specific tailored implementations that have advanced support for OGC spatial types (up to 3 dimensions), and both bounded and unbounded temporal values. Both single and ranged values are supported on all axes. GeoWave’s geospatial support is built on top of the GeoTools project extensibility model. This means that it can integrate natively with any GeoTools-compatible project, such as GeoServer and UDig, and can ingest GeoTools compatible data sources.</p>
</div>
<div class="paragraph">
<p>GeoWave provides out-of-the-box support for distributed key/value stores, as necessary for mission needs. The latest version of GeoWave supports <a href="https://accumulo.apache.org" target="_blank">Apache Accumulo</a> and <a href="https://hbase.apache.org" target="_blank">Apache HBase</a> stores, though additional data stores can be implemented as requested or needed.</p>
</div>
<div class="paragraph">
<p>This guide serves the purpose of focusing on the development side of GeoWave capabilities as well as assisting developers with the GeoWave code surroundings.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GeoWave Capabilities</p>
<div class="ulist">
<ul>
<li>
<p>Add multi-dimensional indexing capability to Apache Accumulo and Apache HBase</p>
</li>
<li>
<p>Add support for geographic objects and geospatial operators to Apache Accumulo and Apache HBase</p>
</li>
<li>
<p>Provide a <a href="http://geoserver.org/" target="_blank">GeoServer</a> plugin to allow geospatial data in Accumulo and HBase to be shared and visualized via OGC standard services</p>
</li>
<li>
<p>Provide Map-Reduce input and output formats for distributed processing and analysis of geospatial data</p>
</li>
</ul>
</div>
</li>
<li>
<p>Geospatial software plugins include the following:</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://geoserver.org/" target="_blank">GeoServer</a> plugin to allow geospatial data in Accumulo to be shared and visualized via OGC standard services</p>
</li>
<li>
<p><a href="http://www.pdal.io/" target="_blank">PDAL</a> plugin for working with point cloud data</p>
</li>
<li>
<p><a href="http://mapnik.org/" target="_blank">Mapnik</a> plugin for generating map tiles and generally making good looking maps.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Basically, GeoWave is working to bridge geospatial software with distributed compute systems and attempting to do for distributed key/value stores what PostGIS does for PostgreSQL.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="origin"><a class="anchor" href="#origin"></a>Origin</h3>
<div class="paragraph">
<p>GeoWave was developed at the National Geospatial-Intelligence Agency (NGA) in collaboration with <a href="http://www.radiantblue.com/" target="_blank">RadiantBlue Technologies</a> and <a href="http://www.boozallen.com/" target="_blank">Booz Allen Hamilton</a>. The government has <a href="https://github.com/locationtech/geowave/blob/master/NOTICE" target="_blank">unlimited rights</a> and is releasing this software to increase the impact of government investments by providing developers with the opportunity to take things in new directions. The software use, modification, and distribution rights are stipulated within the <a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">Apache 2.0</a> license.</p>
</div>
</div>
<div class="sect2">
<h3 id="intent"><a class="anchor" href="#intent"></a>Intent</h3>
<div class="sect3">
<h4 id="pluggable-backend"><a class="anchor" href="#pluggable-backend"></a>Pluggable Backend</h4>
<div class="paragraph">
<p>GeoWave is intended to be a multidimensional indexing layer that can be added on top of any sorted key-value store. Accumulo was chosen as the initial target architecture, and support for HBase has been added as well. Any datastore which allows prefix based range scans should be straightforward extensions.</p>
</div>
</div>
<div class="sect3">
<h4 id="modular-framework-design"><a class="anchor" href="#modular-framework-design"></a>Modular Framework Design</h4>
<div class="paragraph">
<p>The GeoWave architecture is designed to be extremely extensible with most of the functionality units defined by interfaces, and with default implementations of these interfaces to cover most use cases. GeoWave allows for easy feature extension and platform integration – bridging the gap between distributed technologies and minimizing the learning curve for developers. The intent is that the out of the box functionality should satisfy 90% of use cases, but the modular architecture allows for easy feature extension as well as integration into other platforms.</p>
</div>
</div>
<div class="sect3">
<h4 id="self-describing-data"><a class="anchor" href="#self-describing-data"></a>Self-Describing Data</h4>
<div class="paragraph">
<p>GeoWave stores the information needed to manipulate data, such as configuration and format, in the database itself. This allows software to programmatically interrogate all the data stored in a single or set of GeoWave instances without needing bits of configuration from clients, application servers, or other external stores.</p>
</div>
</div>
<div class="sect3">
<h4 id="scalable"><a class="anchor" href="#scalable"></a>Scalable</h4>
<div class="paragraph">
<p>GeoWave is designed to operate either in a single-node setup or it can scale out as large as needed to support the amount of data and/or processing resources necessary. By utilizing distributed computing clusters and server-side fine grain filtering, GeoWave is fully capable of performing interactive time and/or location specific queries on datasets containing billions of features with 100 percent accuracy.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For GeoWave users, the primary method of interfacing with GeoWave is through the various Command-Line Interface (CLI) commands and options. Users will use GeoWave to store, index, or search multi-dimensional data in a key-value datastore.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/operational_overview.png" alt="Operational Overview" width="75%">
</div>
</div>
<div class="paragraph">
<p>This <em>typically</em> involves these four steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Configure</strong></p>
<div class="paragraph">
<p>Set up/configure a datastore or index on GeoWave for re-use across various operations as needed.</p>
</div>
</li>
<li>
<p><strong>Ingest</strong>/<strong>Index</strong></p>
<div class="paragraph">
<p>Ingest, or Index, data into a specific store (e.g., Accumulo, HBase)</p>
</div>
</li>
<li>
<p><strong>Process</strong></p>
<div class="paragraph">
<p>Process data using a distributed processing engine (e.g. MapReduce, Spark)</p>
</div>
</li>
<li>
<p><strong>Query</strong>/<strong>Discover</strong></p>
<div class="paragraph">
<p>Search/Query or Discover data ingested, indexed, or processed/transformed through GeoWave operations. A common data discovery tool used is <a href="http://geoserver.org/" target="_blank">GeoServer</a>, which interfaces with GeoWave through the plugin, for interfacing with the selected datastore, e.g., Accumulo or HBase.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>GeoWave uses tiered, gridded, Space Filling Curves (SFCs) to index data into your desired key-value store. The indexing information is stored in a generic key structure that can also be used for server-side processing. This architecture allows query, processing, and rendering times to be reduced by multiple orders of magnitude.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/tiered.png" alt="Tiered" width="50%">
</div>
</div>
<div class="paragraph">
<p>If there are questions or issues encountered, or topics of interest that could be expounded on, please create an issue within the <a href="https://github.com/locationtech/geowave/issues" target="_blank">GeoWave project GitHub page</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="assumptions-2"><a class="anchor" href="#assumptions-2"></a>Assumptions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prior to running GeoWave functionality, this guide assumes that the following components are installed and/or available. Because of the continuous changes occurring to these components, installing and maintaining extensive operational capabilities around these components is outside the scope of this document.</p>
</div>
<div class="sect2">
<h3 id="running-geowave"><a class="anchor" href="#running-geowave"></a>Running GeoWave</h3>
<div class="paragraph">
<p>In order to build and/or perform development using the GeoWave source, the following components are required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Java Development Kit (JDK)</a> (&gt;= 1.8)</p>
<div class="paragraph">
<p>Requires JRE v1.8 or greater</p>
</div>
<div class="paragraph">
<p>Download the latest JRE from the <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Java downloads site</a>. The OracleJDK is the most thoroughly tested but there are no known issues with OpenJDK.</p>
</div>
</li>
<li>
<p>GeoWave build or RPM</p>
<div class="paragraph">
<p>At minimum, an existing GeoWave build or RPM is required. For building the GeoWave source, please refer to the development guide.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="external-components"><a class="anchor" href="#external-components"></a>External Components</h3>
<div class="paragraph">
<p>Depending on the environment components being developed towards (e.g., requirements, datastores, indices, etc), the following are not all required, though constraints are listed below for which versions are supported by GeoWave.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://geoserver.org/" target="_blank">GeoServer</a> instance &gt;= 2.12.1</p>
</li>
<li>
<p><a href="https://accumulo.apache.org/" target="_blank">Apache Accumulo</a> version 1.5 or greater is required. 1.5.x, 1.6.x, 1.7.x, 1.8.x, have all been tested.</p>
</li>
<li>
<p><a href="https://hbase.apache.org/" target="_blank">Apache HBase</a> &gt;= 1.2.1</p>
</li>
<li>
<p><a href="http://hadoop.apache.org/" target="_blank">Apache Hadoop</a> versions &gt;= 2.3</p>
</li>
<li>
<p><a href="http://cloudera.com/content/cloudera/en/home.html" target="_blank">Cloudera</a> CDH5. GeoWave tests with CDH 5.9</p>
</li>
<li>
<p><a href="http://hortonworks.com/hdp/" target="_blank">Hortonworks Data Platform</a> 2.6+</p>
</li>
<li>
<p><a href="http://www.oracle.com/technetwork/articles/javaee/jai-142803.html" target="_blank">Java Advanced Imaging</a> and <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/imageio" target="_blank">Java Image I/O</a> are also both required to be installed on the GeoServer instance(s), as well as on the Accumulo nodes. The Accumulo support is only required for certain functions (distributed rendering), - so this may be skipped in some cases.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="example-screenshots"><a class="anchor" href="#example-screenshots"></a>Example screenshots</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The screenshots below are of data loaded from various attributed data sets into a GeoWave instance, processed
(in some cases) by a GeoWave analytic process, and rendered by Geoserver.</p>
</div>
<div class="ulist">
<div class="title">Contents</div>
<ul>
<li>
<p><a href="#screenshots-geolife">GeoLife</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#screenshots-geolife-city">GeoLife at city scale</a></p>
</li>
<li>
<p><a href="#screenshots-geolife-house">GeoLife at house scale</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#screenshots-osm-gpx">OpenStreetMap GPX Tracks</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#screenshots-osm-gpx-continent">OSM GPX at continent scale</a></p>
</li>
<li>
<p><a href="#screenshots-osm-gpx-world">OSM GPX at world scale</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#screenshots-tdrive">T-Drive</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#screenshots-tdrive-city">T-drive at city scale</a></p>
</li>
<li>
<p><a href="#screenshots-tdrive-block">T-drive at block scale</a></p>
</li>
<li>
<p><a href="#screenshots-tdrive-house">T-drive at house scale</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="screenshots-geolife"><a class="anchor" href="#screenshots-geolife"></a>GeoLife</h3>
<div class="paragraph">
<p>Microsoft research has made available a trajectory data set that contains the GPS coordinates of 182 users over a three year period (April 2007 to August 2012). There are 17,621 trajectories in this data set.</p>
</div>
<div class="paragraph">
<p>More information on this data set is available at <a href="http://research.microsoft.com/jump/131675" target="_blank">Microsoft Research GeoLife page</a>.</p>
</div>
<div class="sect3">
<h4 id="screenshots-geolife-city"><a class="anchor" href="#screenshots-geolife-city"></a>GeoLife at City Scale</h4>
<div class="paragraph">
<p>Below are renderings of GeoLife data. They display the raw points as well as the results of a GeoWave kernel density analytic. The data corresponds to Mapbox zoom level 13.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/geolife-density-13.jpg"><img src="./images/geolife-density-13-thumb.jpg" alt="Geolife density at city scale"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/geolife-points-13.jpg"><img src="./images/geolife-points-13-thumb.jpg" alt="Geolife points at city scale"></a>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="screenshots-geolife-house"><a class="anchor" href="#screenshots-geolife-house"></a>GeoLife at House Scale</h4>
<div class="paragraph">
<p>This data set corresponds to a Mapbox zoom level of 15</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/geolife-density-17.jpg"><img src="./images/geolife-density-17-thumb.jpg" alt="GeoLife at house scale"></a>
</div>
</div>
<div class="paragraph">
<p><em>Graphic background &#169;MapBox and &#169;OpenStreetMap</em></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/geolife-points-17.jpg"><img src="./images/geolife-points-17-thumb.jpg" alt="GeoLife at house scale"></a>
</div>
</div>
<div class="paragraph">
<p><em>Graphic background &#169;MapBox and &#169;OpenStreetMap</em></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="screenshots-osm-gpx"><a class="anchor" href="#screenshots-osm-gpx"></a>OpenStreetMap GPX Tracks</h3>
<div class="paragraph">
<p>The OpenStreetMap Foundation has released a large set of user contributed GPS tracks. These are about eight years of historical tracks. The data set consists of just under three billion (not trillion as some websites claim) points, or just under one million trajectories.</p>
</div>
<div class="paragraph">
<p>More information on this data set is available at <a href="http://wiki.openstreetmap.org/wiki/Planet.gpx" target="_blank">GPX Planet page</a>.</p>
</div>
<div class="sect3">
<h4 id="screenshots-osm-gpx-continent"><a class="anchor" href="#screenshots-osm-gpx-continent"></a>OSM GPX at Continent Scale</h4>
<div class="paragraph">
<p>The data below corresponds to a Mapbox zoom level of 6</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/osmgpx.jpg"><img src="./images/osmgpx-thumb.jpg" alt="OSM GPX at continent scale"></a>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="screenshots-osm-gpx-world"><a class="anchor" href="#screenshots-osm-gpx-world"></a>OSM GPX at World Scale</h4>
<div class="paragraph">
<p>This data set corresponds to a Mapbox zoom level of 3</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/osmgpx-world.jpg"><img src="./images/osmgpx-world-thumb.jpg" alt="Geolife points at city scale"></a>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="screenshots-tdrive"><a class="anchor" href="#screenshots-tdrive"></a>T-Drive</h3>
<div class="paragraph">
<p>Microsoft research has made available a trajectory data set that contains the GPS coordinates of 10,357 taxis in Beijing, China and surrounding areas over  a one week period. There are approximately 15 million points in this data set.</p>
</div>
<div class="paragraph">
<p>More information on this data set is available at: <a href="http://research.microsoft.com/apps/pubs/?id=152883" target="_blank">Microsoft Research T-drive page</a>.</p>
</div>
<div class="sect3">
<h4 id="screenshots-tdrive-city"><a class="anchor" href="#screenshots-tdrive-city"></a>T-Drive at City Scale</h4>
<div class="paragraph">
<p>Below are renderings of the t-drive data. They display the raw points along with the results of a GeoWave kernel density analytic. The data corresponds to Mapbox zoom level 12.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/t-drive-points-12.jpg"><img src="./images/t-drive-points-12-thumb.jpg" alt="T-drive points at city scale"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/t-drive-density-12.jpg"><img src="./images/t-drive-density-12-thumb.jpg" alt="T-drive density at city scale"></a>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="screenshots-tdrive-block"><a class="anchor" href="#screenshots-tdrive-block"></a>T-Drive at Block Scale</h4>
<div class="paragraph">
<p>This data set corresponds to a Mapbox zoom level of 15</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/t-drive-points-2.jpg" alt="T-drive points at block scale">
</div>
</div>
<div class="paragraph">
<p><em>Graphic background&#169;MapBox and &#169;OpenStreetMap</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/t-drive-density-2.jpg" alt="T-drive density at block scale">
</div>
</div>
<div class="paragraph">
<p><em>Graphic background&#169;MapBox and &#169;OpenStreetMap</em></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="screenshots-tdrive-house"><a class="anchor" href="#screenshots-tdrive-house"></a>T-Drive at House Scale</h4>
<div class="paragraph">
<p>This data set corresponds to a Mapbox zoom level of 17</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/t-drive-points-3.jpg" alt="T-drive points at building scale">
</div>
</div>
<div class="paragraph">
<p><em>Graphic background&#169;MapBox and &#169;OpenStreetMap</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/t-drive-density-3.jpg" alt="T-drive density at building scale">
</div>
</div>
<div class="paragraph">
<p><em>Graphic background&#169;MapBox and &#169;OpenStreetMap</em></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="statistics-2"><a class="anchor" href="#statistics-2"></a>Statistics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Adapters provide a set of statistics stored within a statistic store. The set of available statistics is specific to each adapter and the set of attributes for those data items managed by the adapter. Statistics include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ranges over an attribute, including time</p>
</li>
<li>
<p>Enveloping bounding box over all geometries</p>
</li>
<li>
<p>Cardinality of the number of stored items</p>
</li>
<li>
<p>Histograms over the range of values for an attribute</p>
</li>
<li>
<p>Cardinality of discrete values of an attribute</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Statistics are updated during data ingest and deletion. Range and bounding box statistics reflect the largest range over time. Those statistics are not updated during deletion. Statistics based on cardinality are updated upon deletion.</p>
</div>
<div class="paragraph">
<p>Re-computation of statistics is required in these three circumstances:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>As indexed items are removed from the adapter store, the range and envelope statistics may lose their accuracy if the removed item contains an attribute that represents the minimum or maximum value for the population.</p>
</li>
<li>
<p>New statistics added to the statistics store after data items are ingested. These new statistics do not reflect the entire population.</p>
</li>
<li>
<p>Software changes invalidate prior stored images of statistics.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Statistics retain the same visibility constraints as the associated attributes. Thus, there is a set of statistics for each unique constraint. The statistics store answers each statistics inquiry for a given adapter with only those statistics matching the authorizations of the requester. The statistics store merges authorized statistics covering the same attribute.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/stats_merge.png" alt="Statistics Merge" width="60%">
</div>
</div>
<div class="sect2">
<h3 id="table-structure"><a class="anchor" href="#table-structure"></a>Table Structure</h3>
<div class="imageblock">
<div class="content">
<img src="./images/stats.png" alt="Statistics Structure" width="60%">
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tools-framework"><a class="anchor" href="#tools-framework"></a>Tools Framework</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A plugin framework (using Service Provider Interface [SPI] based injection) is provided with several input formats and utilities supported out of the box.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This section assumes that a GeoWave build is available. Building GeoWave from source is outside the scope of this document. For details on generating a GeoWave build, please reference the <a href="devguide.html#building-code" target="_blank">GeoWave Developer Guide</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="geowave-command-line-instructions"><a class="anchor" href="#geowave-command-line-instructions"></a>GeoWave Command Line Instructions</h3>
<div class="paragraph">
<p>GeoWave comes available with several levels of command-line functionality. In this section, we will provide a high-level overview of the commands and will also outline a few of the core functions available, though for a full exhaustive list of commands, please see the <a href="commands.html" target="_blank">GeoWave CLI Appendix</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It is assumed that a <em>geowave</em> system command alias is registered in the terminal session being run through.</p>
</div>
<div class="paragraph">
<p>To test this, type 'geowave' (no quotes) and press enter.</p>
</div>
<div class="paragraph">
<p>If a list of geowave options is returned, then the system command alias is available. Otherwise, if an error similar to or containing the term, <em>'geowave: command not found'</em> is returned, the system command alias has not been registered. For details on how to register the 'geowave' system command alias, please refer to the <a href="devguide.html#packaging-code" target="_blank">GeoWave Developer Guide</a>.</p>
</div>
<div class="paragraph">
<p>If the alias system command is not registered, the full java command - ( e.g., java -cp {GEOWAVE_HOME} {GEOWAVE_JAR} ) - will need to be used in place of the 'geowave' alias.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="general-usage-options"><a class="anchor" href="#general-usage-options"></a>General Usage &amp; Options</h4>
<div class="paragraph">
<p>For root-level command-line usage of GeoWave, run the 'geowave' command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will return all available commands through GeoWave along with a brief description of each.</p>
</div>
<div class="ulist">
<div class="title">Options:</div>
<ul>
<li>
<p>--config-file:</p>
<div class="paragraph">
<p>Override configuration file (default is &lt;home&gt;/.geowave/config.properties).</p>
</div>
<div class="paragraph">
<p>This flag must come after 'geowave' and before any subcommand.</p>
</div>
</li>
<li>
<p>--debug:</p>
<div class="paragraph">
<p>Verbose output. Use the debug flag to increase the debug logging output by GeoWave on the console to DEBUG. By default, it is set to WARN.</p>
</div>
<div class="paragraph">
<p>This flag must come after 'geowave' and before any subcommand.</p>
</div>
</li>
<li>
<p>--version:</p>
<div class="paragraph">
<p>The version flag will output the build arguments that were used to build GeoWave as well as the version of the GeoWave tools jar you’re using:</p>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Not all three options are required. All have been listed as example, though each can be used independently or as any combination of the three options.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave --config-file {path to configuration file override} --debug --version</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="analytic"><a class="anchor" href="#analytic"></a>Analytic</h4>
<div class="paragraph">
<p>Commands that run mapreduce or spark processing to enhance an existing GeoWave dataset</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave analytic</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="store"><a class="anchor" href="#store"></a>Store</h4>
<div class="paragraph">
<p>Commands for managing GeoWave data stores</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave store</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="index"><a class="anchor" href="#index"></a>Index</h4>
<div class="paragraph">
<p>Commands for managing GeoWave indices</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave index</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="statistics-3"><a class="anchor" href="#statistics-3"></a>Statistics</h4>
<div class="paragraph">
<p>Commands for managing statistics</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave stat</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="config"><a class="anchor" href="#config"></a>Config</h4>
<div class="paragraph">
<p>Commands that affect local configuration only</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave config</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="explain"><a class="anchor" href="#explain"></a>Explain</h4>
<div class="paragraph">
<p>See what arguments are missing and what values will be used for GeoWave commands</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave explain</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="geoserver"><a class="anchor" href="#geoserver"></a>GeoServer</h4>
<div class="paragraph">
<p>Commands that manage geoserver data stores and layers</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave gs</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="accumulo"><a class="anchor" href="#accumulo"></a>Accumulo</h4>
<div class="paragraph">
<p>Accumulo utility commands</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave util accumulo</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="hbase"><a class="anchor" href="#hbase"></a>HBase</h4>
<div class="paragraph">
<p>HBase utility commands</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave util hbase</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="python"><a class="anchor" href="#python"></a>Python</h4>
<div class="paragraph">
<p>Utility commands for python integration</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave util python</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="help"><a class="anchor" href="#help"></a>Help</h4>
<div class="paragraph">
<p>The help command will show arguments and their defaults. It can be prepended to any GeoWave command. If you use it while also specifying a sub-command and its arguments, that command’s help information will be displayed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave help &lt;command&gt; &lt;subcommand&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ingest"><a class="anchor" href="#ingest"></a>Ingest</h4>
<div class="paragraph">
<p>Commands that ingest data directly into GeoWave or stage data to be ingested into GeoWave</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave ingest</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="landsat"><a class="anchor" href="#landsat"></a>Landsat</h4>
<div class="paragraph">
<p>Operations to analyze, download, and ingest Landsat 8 imagery publicly available on AWS</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave util landsat</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="osm"><a class="anchor" href="#osm"></a>OSM</h4>
<div class="paragraph">
<p>Operations to ingest OSM nodes, ways and relations to GeoWave</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave util osm</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="raster"><a class="anchor" href="#raster"></a>Raster</h4>
<div class="paragraph">
<p>Operations to perform transformations on raster data in GeoWave</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave raster</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="vector"><a class="anchor" href="#vector"></a>Vector</h4>
<div class="paragraph">
<p>Vector data operations</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave vector</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ingest-2"><a class="anchor" href="#ingest-2"></a>Ingest</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-2"><a class="anchor" href="#overview-2"></a>Overview</h3>
<div class="paragraph">
<p>In addition to the raw data to ingest, the ingest process requires an adapter to translate the native data into a format that can be persisted into the data store. Also, the ingest process requires an Index that is a definition of all the configured parameters that define how data is translated to Row IDs (how it is indexed). It also includes what common fields need to be maintained within the table to be used by fine-grained and secondary filters.</p>
</div>
<div class="paragraph">
<p>There are various ways to ingest data into a GeoWave store. The standard localToGW command is used to ingest files from a local file system or from an AWS S3 bucket into GeoWave in a single process. For a distributed ingest (recommended for larger datasets) the sparkToGW and mrToGW commands can be used. Ingests can also be performed directly from HDFS or utilizing Kafka.</p>
</div>
<div class="paragraph">
<p>The full list of GeoWave ingest commands can be found in the <a href="commands.html#ingest-commands" target="_blank">GeoWave CLI Appendix</a>.</p>
</div>
<div class="paragraph">
<p>For examples and other details of running ingest commands, please be sure to check out the GeoWave QuickStart Guide Examples.</p>
</div>
</div>
<div class="sect2">
<h3 id="ingest-plugins"><a class="anchor" href="#ingest-plugins"></a>Ingest Plugins</h3>
<div class="paragraph">
<p>The <em>geowave</em> command line utility comes with several plugins out of the box. You can list the available plugins that are registered with your commandline tool.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave ingest listplugins</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can add more by simply copying a desired plugin into the <em>/usr/local/geowave/tools/plugins</em> directory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The above listplugins command should yield a result similar to what is shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Available index types currently registered as plugins:

  spatial_temporal:
    This dimensionality type matches all indices that only require Geometry and Time.

  spatial:
    This dimensionality type matches all indices that only require Geometry.

Available ingest formats currently registered as plugins:

  twitter:
    Flattened compressed files from Twitter API

  geotools-vector:
    all file-based vector datastores supported within geotools

  geolife:
    files from Microsoft Research GeoLife trajectory data set

  gdelt:
    files from Google Ideas GDELT data set

  stanag4676:
    xml files representing track data that adheres to the schema defined by STANAG-4676

  geotools-raster:
    all file-based raster formats supported within geotools

  gpx:
    xml files adhering to the schema of gps exchange format

  tdrive:
    files from Microsoft Research T-Drive trajectory data set

  avro:
    This can read an Avro file encoded with the SimpleFeatureCollection schema.  This schema is also used by the export tool, so this format handles re-ingesting exported datasets.

Available datastores currently registered:

  accumulo:
    A GeoWave store backed by tables in Apache Accumulo

  bigtable:
    A GeoWave store backed by tables in Google's Cloud BigTable

  hbase:
    A GeoWave store backed by tables in Apache HBase</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ingest-statistics"><a class="anchor" href="#ingest-statistics"></a>Ingest Statistics and Time Dimension Configuration</h3>
<div class="paragraph">
<p>The available plugins for vector support adjustments to their configuration via the command line.
The system property 'SIMPLE_FEATURE_CONFIG_FILE' may be assigned to the name of a locally accessible JSON file defining
the configuration.</p>
</div>
<div class="sect3">
<h4 id="example"><a class="anchor" href="#example"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>$ GEOWAVE_TOOL_JAVA_OPT="-DSIMPLE_FEATURE_CONFIG_FILE=myconfigfile.json"
$ geowave ingest localtogw ./ingest mystore myindex</code></pre>
</div>
</div>
<div class="paragraph">
<p>Configuration consists of several parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecting temporal attributes for a temporal index</p>
</li>
<li>
<p>Assigning to each attribute the type of statistics to be captured within the Statistics Store</p>
</li>
<li>
<p>Determining which attributes should be indexed in a secondary index</p>
</li>
<li>
<p>Determining which attribute contains visibility information for other attributes</p>
</li>
<li>
<p>Setting the names of the indices to update in WFS-T transactions via the GeoServer plug-in</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The JSON file is made up of configurations. Each configuration is defined by a class name and a set of attributes. Configurations are grouped by the Simple Feature Type name.</p>
</div>
</div>
<div class="sect3">
<h4 id="temporal-configuration"><a class="anchor" href="#temporal-configuration"></a>Temporal Configuration</h4>
<div class="paragraph">
<p>There are three attributes for the temporal configuration:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>timeName</p>
</li>
<li>
<p>startRangeName</p>
</li>
<li>
<p>endRangeName</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>These attributes are associated with the name of a simple feature type attribute that references a time value.  To index by a single time attribute, set <code><em>timeName</em></code> to the name of the single attribute.  To index by a range, set both <code><em>startRangeName</em></code> and <code><em>endRangeName</em></code> to the names of the simple feature type attributes that define start and end time values.</p>
</div>
</div>
<div class="sect3">
<h4 id="statistics-configuration"><a class="anchor" href="#statistics-configuration"></a>Statistics Configuration</h4>
<div class="paragraph">
<p>Each simple feature type attribute may have several assigned statistics. Bounding box and range statistics are automatically captured for geometry and temporal attributes.</p>
</div>
<table class="tableblock frame-topbot grid-rows spread">
<colgroup>
<col style="width: 12%;">
<col style="width: 25%;">
<col style="width: 20%;">
<col style="width: 43%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute Type</th>
<th class="tableblock halign-left valign-top">Statistic Name</th>
<th class="tableblock halign-left valign-top">Statistic Configuration Attributes (with default values)</th>
<th class="tableblock halign-left valign-top">Statistic Class</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">Numeric</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed Bin Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minValue=-&#8734;, maxValue=&#8734;, bins=32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/stats/FeatureFixedBinNumericStatistics.java#L130" target="_blank">org.locationtech.geowave.adapter.vector.stats.
FeatureFixedBinNumericStatistics$FeatureFixedBinConfig</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dynamic Histogram</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/stats/FeatureNumericHistogramStatistics.java#L356" target="_blank">org.locationtech.geowave.adapter.vector.stats.
FeatureNumericHistogramStatistics$FeatureNumericHistogramConfig</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric Range</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/stats/FeatureNumericRangeStatistics.java#L128" target="_blank">org.locationtech.geowave.adapter.vector.stats.
FeatureNumericRangeStatistics$FeatureNumericRangeConfig</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Count Min Sketch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">errorFactor=0.001, probabilityOfCorrectness=0.98</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/stats/FeatureCountMinSketchStatistics.java#L203" target="_blank">org.locationtech.geowave.adapter.vector.stats.
FeatureCountMinSketchStatistics$FeatureCountMinSketchConfig</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hyper Log Log</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">precision=16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/stats/FeatureHyperLogLogStatistics.java#L205" target="_blank">org.locationtech.geowave.adapter.vector.stats.
FeatureHyperLogLogStatistics$FeatureHyperLogLogConfig</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="visibility-configuration"><a class="anchor" href="#visibility-configuration"></a>Visibility Configuration</h4>
<div class="paragraph">
<p>Visibility configuration has two attributes: the visibility manager class and the visibility attribute name.</p>
</div>
<div class="paragraph">
<p>A Visibility Manager extends <em><a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/data/visibility/VisibilityManagement.java" target="_blank">org.locationtech.geowave.core.store.data.visibility.VisibilityManagement</a></em>. An instance of this class interprets the contents of a visibility attribute, within a simple feature, to determine the visibility constraints of the other attributes in that simple feature. The default visibility management class is <em><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/plugin/visibility/JsonDefinitionColumnVisibilityManagement.java" target="_blank">org.locationtech.geowave.adapter.vector.plugin.visibility.JsonDefinitionColumnVisibilityManagement</a></em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="secondary-index-configuration"><a class="anchor" href="#secondary-index-configuration"></a>Secondary Index Configuration</h4>
<div class="paragraph">
<p>Secondary Index Configurations is made up of one of three classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/index/NumericSecondaryIndexConfiguration.java" target="_blank">org.locationtech.geowave.adapter.vector.index.NumericSecondaryIndexConfiguration</a></em></p>
</li>
<li>
<p><em><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/index/TemporalSecondaryIndexConfiguration.java" target="_blank">org.locationtech.geowave.adapter.vector.index.TemporalSecondaryIndexConfiguration</a></em></p>
</li>
<li>
<p><em><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/index/TextSecondaryIndexConfiguration.java" target="_blank">org.locationtech.geowave.adapter.vector.index.TextSecondaryIndexConfiguration</a></em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of this configurations maintains a set of simple feature attribute names to index in a secondary index.</p>
</div>
</div>
<div class="sect3">
<h4 id="primary-index-identifiers"><a class="anchor" href="#primary-index-identifiers"></a>Primary Index Identifiers</h4>
<div class="paragraph">
<p>The class <em><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/index/SimpleFeaturePrimaryIndexConfiguration.java" target="_blank">org.locationtech.geowave.adapter.vector.index.SimpleFeaturePrimaryIndexConfiguration</a></em> is used to maintain the configuration of primary indices used for adding or updating simple features via the GeoServer plug-in (FeatureWriter).</p>
</div>
</div>
<div class="sect3">
<h4 id="example-2"><a class="anchor" href="#example-2"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre>{
  "configurations": {
    "myFeatureTypeName" : [
      {
        "@class" : "org.locationtech.geowave.adapter.vector.utils.TimeDescriptors$TimeDescriptorConfiguration",
        "startRangeName":null,
        "endRangeName":null,
        "timeName":"captureTime"
       },
       {
         "@class": "org.locationtech.geowave.adapter.vector.index.NumericSecondaryIndexConfiguration",
         "attributes" : ["pop"]
       },
       {
         "@class": "org.locationtech.geowave.adapter.vector.plugin.visibility.VisibilityConfiguration",
         "attributeName" : "vis"
       },
       {
        "@class": "org.locationtech.geowave.adapter.vector.index.SimpleFeaturePrimaryIndexConfiguration",
         "indexNames": ["SPATIAL_IDX"]
       }
       {
         "@class" : "org.locationtech.geowave.adapter.vector.stats.StatsConfigurationCollection$SimpleFeatureStatsConfigurationCollection",
         "attConfig" : {
           "population" : {
             "configurationsForAttribute" :  [
             {
               "@class" : "org.locationtech.geowave.adapter.vector.stats.FeatureFixedBinNumericStatistics$FeatureFixedBinConfig",
               "bins" : 24
             }
             ]
            },
          "country" : {
            "configurationsForAttribute" :  [
             {
               "@class" : "org.locationtech.geowave.adapter.vector.stats.FeatureCountMinSketchStatistics$FeatureCountMinSketchConfig",
               "probabilityOfCorrectness" : 0.98,
               "errorFactor" :0.001
             },
             {
               "@class" : "org.locationtech.geowave.adapter.vector.stats.FeatureHyperLogLogStatistics$FeatureHyperLogLogConfig"
             }
            ]
          }
        }
      }
    ]
  }
}</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="analytics-overview"><a class="anchor" href="#analytics-overview"></a>Analytics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-3"><a class="anchor" href="#overview-3"></a>Overview</h3>
<div class="paragraph">
<p>Analytics embody algorithms tailored to geospatial data.  Most analytics leverage Hadoop MapReduce for bulk computation. Results of analytic jobs consist of vector or raster data stored in GeoWave.  The analytics infrastructure provides tools to build algorithms in Spark. For example, a Kryo serializer/deserializer enables exchange of SimpleFeatures and the GeoWaveInputFormat supplies data to the Hadoop RDD.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>GeoWaveInputFormat does not remove duplicate features that reference lines and/or polygons spanning multiple index regions. If working with duplication in time ranges, please take a look at the GeoWave <a href="https://github.com/locationtech/geowave/blob/master/core/mapreduce/src/main/java/org/locationtech/geowave/mapreduce/dedupe/GeoWaveDedupeJobRunner.java" target="_blank">GeoWaveDedupeJobRunner</a>.</p>
</div>
<div class="paragraph">
<p>It is also important to note that, while duplication can arise as an issue, though if using the XZ-Order SFC (which is used by default for lines and polygons), it does not require duplication. The only time there should be a duplication issue is if you are indexing a time range and the time range spans multiple periods based on your temporal binning strategy. The default periodicity is "YEAR," meaning that a row must be duplicate under default spatial-temporal indexing if you are trying to index a time range that crosses December 31 23:59:59.999 and January 1 00:00:00 of the following year.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following algorithms are provided.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16%;">
<col style="width: 83%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KMeans++</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A K-Means implementation to find K centroids over the population of data. A set of preliminary sampling iterations find an optimal value of K and the initial set of K centroids. The algorithm produces K centroids and their associated polygons.  Each polygon represents the concave hull containing all features associated with a centroid. The algorithm supports drilling down multiple levels. At each level, the set centroids are determined from the set of features associated the same centroid from the previous level.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KMeans Jump</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses KMeans++ over a range of k, choosing an optimal k using an information theoretic based measurement.
</p><p class="tableblock">Example Usage: <em>yarn jar geowave-tools.jar analytic kmeansjump</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KMeans Parallel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs a KMeans Parallel Cluster
</p><p class="tableblock">Example Usage: <em>yarn jar geowave-tools.jar analytic kmeansparallel</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DBScan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Density Based Scanner algorithm produces a set of convex polygons for each region meeting density criteria. Density of region is measured by a minimum cardinality of enclosed features within a specified distance from each other.
</p><p class="tableblock">Example Usage: <em>yarn jar geowave-tools.jar analytic dbscan</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nearest Neighbors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An infrastructure component that produces all the neighbors of a feature within a specific distance.
</p><p class="tableblock">Example Usage: <em>yarn jar geowave-tools.jar analytic nn</em></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Building/Developing GeoWave analytics is outside the scope of this document. For details around how to build the GeoWave source and tools, please refer to the <a href="devguide.html#building" target="_blank">GeoWave Developer Guide</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="running"><a class="anchor" href="#running"></a>Running</h3>
<div class="paragraph">
<p>The GeoWave analytical tools are made available through MapReduce and Spark implementations. To run the tools, use the yarn or hadoop system APIs, as outlined below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">yarn jar geowave-tools.jar analytic &lt;algorithm&gt; &lt;options&gt; &lt;store&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above command will execute &lt;algorithm&gt; (such as dbscan), sourcing the data from the &lt;store&gt; datastore (see store add).</p>
</div>
</div>
<div class="sect2">
<h3 id="analytic-commands"><a class="anchor" href="#analytic-commands"></a>Analytic Commands</h3>
<div class="paragraph">
<p>The full list of GeoWave analytic commands, and any details associated with each, can be found in the <a href="commands.html#analytic-commands" target="_blank">GeoWave CLI Appendix</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="query"><a class="anchor" href="#query"></a>Query</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-4"><a class="anchor" href="#overview-4"></a>Overview</h3>
<div class="imageblock">
<div class="content">
<img src="./images/queryoverview1.png" alt="Query Architecture" width="75%">
</div>
</div>
<div class="paragraph">
<p>A query in GeoWave currently consists of a set of ranges on the dimensions of the primary index. Up to three dimensions, plus temporal optionally, can take advantage of any complex OGC geometry for the query window. For dimensions of four or greater the query can only be a set of ranges on each dimension, e.g., hyper-rectangle, etc.</p>
</div>
<div class="paragraph">
<p>The query geometry is decomposed by GeoWave into a series of ranges on a one dimensional number line - based on a compact Hilbert space filling curve (SFC) ordering. These ranges are sent through an Accumulo batch scanner to all the tablet servers. These ranges represent the coarse grain filtering.</p>
</div>
<div class="paragraph">
<p>At the same time, the query geometry has been serialized and sent to custom Accumulo iterators. These iterators then do a second stage filtering on each feature for an exact intersection test. Only if the stored geometry and the query geometry intersect does the processing chain continue.</p>
</div>
<div class="paragraph">
<p>A second order filter can then be applied - this is used to remove features based on additional attributes, typically time or other feature attributes. These operators can only exclude items from the set defined by the range - they cannot include additional features. Think "AND" operators not "OR".</p>
</div>
<div class="paragraph">
<p>A final filter is possible on the client set after all the returned results have been aggregated together. Currently, this is only used for final de-duplication. Whenever possible, the distributed filter options should be used as it splits the work load among all the tablet servers.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="third-party"><a class="anchor" href="#third-party"></a>Third Party</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="geoserver-2"><a class="anchor" href="#geoserver-2"></a>GeoServer</h3>
<div class="paragraph">
<p>This section will outline the various aspects of the GeoServer tools that are relevant to GeoWave capabilities. While GeoServer is a third-party tool that integrates with GeoWave, it is important to note that this is not meant to be an exhaustive guide to GeoServer, though it&#8217;s more of an overview and integration guide. For official GeoServer documentation and how-to guides, please reference the <a href="http://docs.geoserver.org" target="_blank">GeoServer documentation</a> guides.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This section assumes that a GeoWave GeoServer plugin has already been created. If this is not the case and a plugin needs to be created, please refer to the <a href="080-install-from-source.html#geoserver-plugin">GeoServer plugin section</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>GeoWave supports both raster images and vector data exposed through Geoserver.</p>
</div>
<div class="sect3">
<h4 id="wfs-t"><a class="anchor" href="#wfs-t"></a>WFS-T</h4>
<div class="paragraph">
<p>GeoWave supports WFS-T for vector data by extending GeoTools. After following the deployment steps, GeoWave appears as the data store types called <a href="#geoserver-accumulo-plugin">'GeoWave Datastore - ACCUMULO'</a> and <a href="#geoserver-hbase-plugin">'GeoWave Datastore - HBASE'</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/geoserver_addstore.png" alt="Adding New GeoWave Store in GeoServer" width="75%">
</div>
</div>
<div class="sect4">
<h5 id="geoserver-accumulo-plugin"><a class="anchor" href="#geoserver-accumulo-plugin"></a>Accumulo Datastore Plugin</h5>
<div class="paragraph">
<p>On the Geowave Datastore - ACCUMULO creation tab, the system prompts for the following connection parameters.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/geoserver_add_accumulo_store.png" alt="Adding New GeoWave Accumulo Store in GeoServer" width="50%">
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Constraints</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">zookeeper</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma-separated list of Zookeeper host and port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host and port are separated by a colon (host:port)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Accumulo tablet server&#8217;s instance name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name matches the one configured in Zookeeper</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Accumulo user name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user should have administrative privileges to add and remove authorized visibility constraints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accumulo user&#8217;s password</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">gwNamespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The table namespace associated with this Accumlo data store</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lock Management</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select one from a list of lock managers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zookeeper is required with a multiple Geoserver architecture</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authorization Management Provider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select from a list of providers</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authorization Data URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL for an external supporting service or configuration file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The interpretation of the URL depends on the selected provider</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Index Strategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The pluggable query strategy to use for querying geowave tables - a reasonable default will be used if not supplied</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="geoserver-hbase-plugin"><a class="anchor" href="#geoserver-hbase-plugin"></a>HBase Datastore Plugin</h5>
<div class="paragraph">
<p>On the Geowave Datastore - HBASE creation tab, the system prompts for the following connection parameters.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/geoserver_add_hbase_store.png" alt="Adding New GeoWave HBase Store in GeoServer" width="width=" height="50%"">
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Constraints</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enableCustomFilters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows for the use of custom filters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">zookeeper</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma-separated list of Zookeeper host and port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host and port are separated by a colon (host:port)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enableCoprocessors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows for the use of HBase co-processors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">gwNamespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The table namespace associated with this Hbase data store</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verifyCoprocessors</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lock Management</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select one from a list of lock managers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zookeeper is required with a multiple Geoserver architecture</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authorization Management Provider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select from a list of providers</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authorization Data URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL for an external supporting service or configuration file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The interpretation of the URL depends on the selected provider</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Index Strategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The pluggable query strategy to use for querying geowave tables - a reasonable default will be used if not supplied.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="geoserver-configuration"><a class="anchor" href="#geoserver-configuration"></a>GeoServer Configuration</h4>
<div class="paragraph">
<p>GeoWave can be configured for a GeoServer connection through the GeoServer config command line interface (CLI) operation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">geowave config geoserver {GEOSERVER URL} --user {USERNAME} --pass {PASSWORD}</code></pre>
</div>
</div>
<table class="tableblock frame-topbot grid-rows spread">
<colgroup>
<col style="width: 15%;">
<col style="width: 10%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Argument</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoServer URL (for example <a href="http://localhost:8080/geoserver" class="bare">http://localhost:8080/geoserver</a>), or simply host:port and appropriate assumptions are made</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoServer User</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoServer Password - Refer to the <a href="007-security.html#password-security">password security</a> section for more details and options</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--workspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoServer Default Workspace</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GeoWave supports connecting to GeoServer through both HTTP and HTTPS (HTTP + SSL) connections. If connecting to GeoServer through an HTTP connection (e.g., <a href="http://localhost:8080/geoserver" class="bare">http://localhost:8080/geoserver</a>), the command above is sufficient.</p>
</div>
<div class="sect4">
<h5 id="geoserver-ssl-connection-properties"><a class="anchor" href="#geoserver-ssl-connection-properties"></a>GeoServer SSL Connection Properties</h5>
<div class="paragraph">
<p>If connecting to GeoServer through a Secure Sockets Layer (SSL) connection over HTTPS (e.g., <a href="https://localhost:8443/geoserver" class="bare">https://localhost:8443/geoserver</a>), some additional configuration options need to be specified, in order for the system to properly establish the secure connection’s SSL parameters. Depending on the particular SSL configuration through which the GeoServer server is being connected, you will need to specify which parameters are necessary.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Not all SSL configuration settings may be necessary, as it depends on the setup of the SSL connection through which GeoServer is hosted. Contact your GeoServer administrator for SSL connection related details.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-topbot grid-rows spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">SSL Argument</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslKeyManagerAlgorithm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the algorithm to use for the keystore.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslKeyManagerProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the key manager factory provider.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslKeyPassword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the password to be used to access the server certificate from the specified keystore file. - Refer to the <a href="007-security.html#password-security">password security</a> section for more details and options.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslKeyStorePassword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the password to use to access the keystore file. - Refer to the <a href="007-security.html#password-security">password security</a> section for more details and options.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslKeyStorePath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the absolute path to where the keystore file is located on system. The keystore contains the server certificate to be loaded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslKeyStoreProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the name of the keystore provider to be used for the server certificate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslKeyStoreType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of keystore file to be used for the server certificate, e.g., JKS (Java KeyStore).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslSecurityProtocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the Transport Layer Security (TLS) protocol to use when connecting to the server. By default, the system will use TLS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslTrustManagerAlgorithm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the algorithm to use for the truststore.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslTrustManagerProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the trust manager factory provider.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslTrustStorePassword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the password to use to access the truststore file. - Refer to the <a href="007-security.html#password-security">password security</a> section for more details and options</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslTrustStorePath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the absolute path to where truststore file is located on system. The truststore file is used to validate client certificates.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslTrustStoreProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the name of the truststore provider to be used for the server certificate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--sslTrustStoreType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the type of key store used for the truststore, e.g., JKS (Java KeyStore).</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="wfs-t-2"><a class="anchor" href="#wfs-t-2"></a>WFS-T</h5>
<div class="paragraph">
<p>Transactions are initiated through a Transaction operation, that contains inserts, updates, and deletes to features. WFS-T supports feature locks across multiple requests by using a lock request followed by subsequent use of a provided <em>Lock ID</em>. The GeoWave implementation supports transaction isolation. Consistency during a commit is not fully supported. Thus, a failure during a commit of a transaction may leave the affected data in an intermediary state. Some deletions, updates, or insertions may not be processed in such a case. The client application must implement its own compensation logic upon receiving a commit-time error response. As expected with Accumulo, operations on a single feature instances are atomic.</p>
</div>
<div class="paragraph">
<p>Inserted features are buffered prior to commit. The features are bulk fed to the data store when the buffer size is exceeded and when the transaction is committed. In support of atomicity and isolation, flushed features, prior to commit, are marked in a transient state and are only visible to the controlling transaction. Upon commit, these features are 'unmarked'. The overhead incurred by this operation is avoided by increasing the buffer size to avoid pre-commit flushes.</p>
</div>
</div>
<div class="sect4">
<h5 id="lock-management"><a class="anchor" href="#lock-management"></a>Lock Management</h5>
<div class="paragraph">
<p>Lock management supports life-limited locks on feature instances. The only supported lock manager is in-memory, which is suitable for single Geoserver instance installations.</p>
</div>
</div>
<div class="sect4">
<h5 id="index-selection"><a class="anchor" href="#index-selection"></a>Index Selection</h5>
<div class="paragraph">
<p>Data written through WFS-T is indexed within a single index. The adapter inspects existing indices, finding one that matches the data requirements. A geo-temporal index is chosen for features with temporal attributes. The adapter creates a geospatial index upon failure of finding a suitable index. A geotemporal index is not created, regardless of the existence of temporal attributes. Currently, geotemporal indices lead to poor performance for queries requesting vectors over large spans of time.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="authorization-management"><a class="anchor" href="#authorization-management"></a>Authorization Management</h4>
<div class="paragraph">
<p>Authorization Management provides the set of credentials compared against the security labels attached to each cell. Authorization Management determines the set of authorizations associated with each WFS-T request. The available Authorization Management strategies are registered through the Server Provider model, within the file</p>
</div>
<div class="paragraph">
<p><code>META-INF/services/org.locationtech.geowave.vector.auth.AuthorizationFactorySPI</code>.</p>
</div>
<div class="paragraph">
<p>The provided implementations include the following</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Empty - Each request is processed without additional authorization.</p>
</li>
<li>
<p>JSON - The requester user name, extracted from the Security Context, is used as a key to find the user&#8217;s set of authorizations from a JSON file. The location of the JSON file is determined by the associated <em>Authorization Data URL</em> (e.g., <em>/opt/config/auth.json</em>). An example of the contents of the JSON file is given below.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json" data-lang="json">    {
      "authorizationSet": {
         "fred" : ["1","2","3"],
         "barney" : ["a"]
      }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Fred has three authorization labels. Barney has one.</p>
</div>
</div>
<div class="sect3">
<h4 id="visibility-management"><a class="anchor" href="#visibility-management"></a>Visibility Management</h4>
<div class="paragraph">
<p>Visibility constraints, applied to feature instances during insertions, are ultimately determined in <code>org.locationtech.geowave.store.data.field.FieldWriter</code>. There are writers for each supported data type in Geoserver. By default, the set visibility expression attached to each feature property is empty. Visibility Management supports selection of a strategy by wrapping each writer to provide visibility. This alleviates the need to extend the type specific FieldWriters.</p>
</div>
<div class="paragraph">
<p>The visibility management strategy is registered through the Java Service Provider Interface (SPI) model, within the file <code>META-INF/services/org.locationtech.geowave.vector.plugin.visibility.ColumnVisibilityManagement</code>. The only provided implementation is the <code>JsonDefinitionColumnVisibilityManagement</code>. The implementation expects a property within each feature instance to contain a JSON string describing how to set the visibility for each property of the feature instance. This approach allows each instance to determine its own visibility criteria.</p>
</div>
<div class="paragraph">
<p>Each name/value pair within the JSON structure defines the visibility for the associated feature property with the same name. In the following example, the <em>geometry</em> property is given a visibility <code>S</code> and the eventName is given a visibility <code>TS</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json" data-lang="json">{ "geometry" : "S", "eventName": "TS" }</code></pre>
</div>
</div>
<div class="paragraph">
<p>JSON attributes can be regular expressions matching more than one feature property name. In the example, all properties except for those that start with 'geo' have visibility <code>TS</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json" data-lang="json">{ "geo.*" : "S", ".*" : "TS" }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The order of the name/value pairs must be considered if one rule is more general than another, as shown in the example. The rule <code>.<strong></code> matches all properties. The more specific rule <code>geo.</strong></code> must be ordered first.</p>
</div>
<div class="paragraph">
<p>The system extracts the JSON visibility string from a feature instance property named <code>GEOWAVE_VISIBILITY</code>. Selection of an alternate property is achieved by setting the associated attribute descriptor 'visibility' to the boolean value TRUE.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation"><a class="anchor" href="#installation"></a>Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="standalone-installers"><a class="anchor" href="#standalone-installers"></a>Standalone Installers</h3>
<div class="paragraph">
<p>GeoWave provides installers to access the commandline tools.  It uses a multi-platform installer builder, <a href="https://www.ej-technologies.com/products/install4j/overview.html">Install4J</a>. The installers can be downloaded here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://geowave.s3.amazonaws.com/latest/standalone-installers/geowave_windows-x64_1_1_0-SNAPSHOT.exe">Windows</a></p>
</li>
<li>
<p><a href="https://geowave.s3.amazonaws.com/latest/standalone-installers/geowave_macos_1_1_0-SNAPSHOT.dmg">Mac</a></p>
</li>
<li>
<p><a href="https://geowave.s3.amazonaws.com/latest/standalone-installers/geowave_unix_1_1_0-SNAPSHOT.sh">Linux</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="installation-from-rpm"><a class="anchor" href="#installation-from-rpm"></a>Installation from RPM</h3>
<div class="sect3">
<h4 id="overview-5"><a class="anchor" href="#overview-5"></a>Overview</h4>
<div class="paragraph">
<p>There is a public <a href="packages.html" target="_blank">GeoWave RPM Repo</a> available with the distribution packages and vendors listed below. As you&#8217;ll need to coordinate a restart of Accumulo to pick up changes to the GeoWave iterator classes the repos default to be disabled so you can keep auto updates enabled. When ready to do an update, simply add <code>--enablerepo=geowave</code> to your command. The packages are built for a number of different hadoop distributions (Cloudera, Hortonworks, and Apache). The RPMs have the vendor name embedded as the second portion of the rpm name (geowave-apache-accumulo, geowave-hdp2-accumulo, geowave-cdh5-accumulo, geowave-apache-hbase, etc.)</p>
</div>
</div>
<div class="sect3">
<h4 id="examples"><a class="anchor" href="#examples"></a>Examples</h4>
<div class="paragraph">
<p>Use the GeoWave repo RPM to configure a host and search for GeoWave RPMs to install.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Several of the RPMs (accumulo, hbase, jetty, single-host, and tools) are both GeoWave version and vendor version specific. In the examples, below the rpm name geowave-$VERSION-VENDOR_VERSION should be adjusted as needed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Currently supported distribution vendors through GeoWave include:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Distribution Vendor</th>
<th class="tableblock halign-left valign-top">Vendor Abbreviation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">apache</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cloudera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cdh5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hortonworks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hdp2</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">rpm -Uvh http://s3.amazonaws.com/geowave-rpms/release/noarch/geowave-repo-1.0-3.noarch.rpm

# To search for GeoWave packages for a specific distribution
yum --enablerepo=geowave search geowave-$VERSION-$VENDOR-*

# To install a specific GeoWave package on a host (probably a namenode)
yum --enablerepo=geowave install geowave-$VERSION-$VENDOR-$PACKAGE

# Update all packages for a specific venfors distribution
yum --enablerepo=geowave install geowave-$VERSION-$VENDOR-*</code></pre>
</div>
</div>
<div class="paragraph">
<p>GeoWave RPMs</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 35%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-$VERSION-$VENDOR-accumulo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accumulo Components</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-$VERSION-$VENDOR-hbase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HBase Components</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-$VERSION-core</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Core (home directory and geowave user)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-$VERSION-docs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation (HTML, PDF and man pages)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-$VERSION-$VENDOR-tools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command Line Tools (ingest, etc.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-$VERSION-$VENDOR-gwtomcat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoServer components installed into /usr/local/geowave/geoserver and available at, e.g., <a href="http://localhost:8080/geoserver/web" class="bare">http://localhost:8080/geoserver/web</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-$VERSION-puppet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Puppet Scripts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-$VERSION-$VENDOR-single-host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All GeoWave components installed on a single host (sometimes useful for development)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-repo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave RPM Repo config file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-repo-dev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Development RPM Repo config file</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<div class="title">In the above table, replace the following:</div>
<ul>
<li>
<p>$VERSION: Version of GeoWave source, e.g., 1.1.0-SNAPSHOT</p>
</li>
<li>
<p>$VENDOR:  Distribution vendor abbreviation - from vendors table above, e.g., apache, cdh5, hdp2</p>
</li>
<li>
<p>$PACKAGE: Package - see RPMs table above, i.e. accumulo, hbase, jetty, single-host, tools</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For all vendors or packages for a particular version, replace with * (e.g., 'geowave-1.1.0-SNAPSHOT-apache-*') for all apache apache packages in 1.1.0-SNAPSHOT version of GeoWave.</p>
</div>
<div class="paragraph">
<p>Note that only accumulo, hbase, jetty, tools, and single-host are vendor package rpm&#8217;s. All others are version RPMs.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rpm-installation-notes"><a class="anchor" href="#rpm-installation-notes"></a>RPM Installation Notes</h4>
<div class="paragraph">
<p>RPM names contain the version in the name so support concurrent installations of multiple GeoWave and/or vendor versions. A versioned /usr/local/geowave-$GEOWAVE_VERSION-$VENDOR_VERSION directory is linked to /usr/local/geowave using alternatives ex: /usr/local/geowave &#8594; /usr/local/geowave-0.9.3-hdp2, but there could also be another /usr/local/geowave-0.9.2.1-cdh5 still installed but not the current default.</p>
</div>
<div class="sect4">
<h5 id="view-geowave-home-installed-and-default-using-alternatives"><a class="anchor" href="#view-geowave-home-installed-and-default-using-alternatives"></a>View geowave-home installed and default using alternatives</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">alternatives --display geowave-home
geowave-home - status is auto.
 link currently points to /usr/local/geowave-0.9.3-hdp2
/usr/local/geowave-0.9.3-hdp2 - priority 90
/usr/local/geowave-0.9.2.1-cdh5 - priority 89
Current `best' version is /usr/local/geowave-0.9.3-hdp2.</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">geowave-*-accumulo:</div>
<p>This RPM will install the GeoWave Accumulo iterator into the local file system and then upload it into HDFS using the <code>hadoop fs -put</code> command. This means of deployment requires that the RPM is installed on a node that has the correct binaries and configuration in place to push files to HDFS, like your namenode. We also need to set the ownership and permissions correctly within HDFS and as such, need to execute the script as a user that has superuser permissions in HDFS. This user varies by Hadoop distribution vendor. If the Accumulo RPM installation fails, check the install log located at <code>/usr/local/geowave/accumulo/geowave-to-hdfs.log</code> for errors. The script can be re-run manually if there was a problem that can be corrected like the HDFS service was not started. If a non-default user was used to install Hadoop you can specify a user that has permissions to upload with the --user argument <code>/usr/local/geowave/accumulo/deploy-to-geowave-to-hdfs.sh --user my-hadoop-user</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This only applies to the Accumulo RPM. There is no such requirement for the HBase RPM.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With the exception of the Accumulo RPM mentioned above, there are no restrictions on where you install RPMs. You can install the rest of the RPMs all on a single node for development use or a mix of nodes depending on your cluster configuration.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-from-emr"><a class="anchor" href="#running-from-emr"></a>Running from EMR</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For a step by step walkthrough of setting up GeoWave on an EMR cluster, please see our <a href="quickstart.html" target="_blank">Quickstart Guide</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="datastore-configuration"><a class="anchor" href="#datastore-configuration"></a>DataStore Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section outlines any particular methods for configurations that are necessary for GeoWave-supported datastores.</p>
</div>
<div class="paragraph">
<p>GeoWave currently supports the following datastores:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#accumulo-config">Apache Accumulo Configuration</a></p>
</li>
<li>
<p><a href="#bigtable-config">Google BigTable Configuration</a></p>
</li>
<li>
<p><a href="#hbase-config">Apache HBase Configuration</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="accumulo-config"><a class="anchor" href="#accumulo-config"></a>Apache Accumulo Configuration</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#accumulo-config-overview">Overview</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#accumulo-config-overview-procedure">Procedure</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#accumulo-config-managing">Managing</a></p>
</li>
<li>
<p><a href="#accumulo-config-versioning">Versioning</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#accumulo-config-versioning-basic">Basic</a></p>
</li>
<li>
<p><a href="#accumulo-config-versioning-advanced">Advanced</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="accumulo-config-overview"><a class="anchor" href="#accumulo-config-overview"></a>Overview</h4>
<div class="paragraph">
<p>The two high level tasks to configure Accumulo for use with GeoWave are to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure the memory allocations for the master and tablet server processes are adequate</p>
</li>
<li>
<p>Add the GeoWave Accumulo iterator to a classloader. The iterator is a rather large file, so ensure the Accumulo Master process has at least 512m of heap space and the Tablet Server processes have at least 1g of heap space.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The recommended Accumulo configuration for GeoWave requires several manual configuration steps but isolates the GeoWave libraries in application specific classpath(s) reducing the possibility of dependency conflict issues. A single user for all of GeoWave data or a user per data type are two of the many local configuration options. You should just just ensure each namespace containing GeoWave tables is configured to pick up the 'geowave-accumulo.jar'.</p>
</div>
<div class="sect4">
<h5 id="accumulo-config-overview-procedure"><a class="anchor" href="#accumulo-config-overview-procedure"></a>Procedure</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a user and namespace.</p>
</li>
<li>
<p>Grant the user ownership permissions on all tables created within the application namespace.</p>
</li>
<li>
<p>Create an application or data set specific classpath.</p>
</li>
<li>
<p>Configure all tables within the namespace to use the application classpath.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">accumulo shell -u root
createuser geowave <i class="conum" data-value="1"></i><b>(1)</b>
createnamespace geowave
grant NameSpace.CREATE_TABLE -ns geowave -u geowave <i class="conum" data-value="2"></i><b>(2)</b>
config -s general.vfs.context.classpath.geowave=hdfs://${MASTER_FQDN}:8020/${ACCUMULO_ROOT}/lib/[^.].*.jar <i class="conum" data-value="3"></i><b>(3)</b>
config -ns geowave -s table.classpath.context=geowave <i class="conum" data-value="4"></i><b>(4)</b>
exit</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You&#8217;ll be prompted for a password.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Ensure the user has ownership of all tables created within the namespace.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The Accumulo root path in HDFS varies between hadoop vendors. For Apache and Cloudera it is '/accumulo' and for Hortonworks it is '/apps/accumulo'</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Link the namespace with the application classpath. Adjust the labels as needed if you&#8217;ve used different user or application names</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>These manual configuration steps have to be performed before attempting to create GeoWave index tables. After the initial configuration, you may elect to do further user and namespace creation and configuring to provide isolation between groups and data sets.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="accumulo-config-managing"><a class="anchor" href="#accumulo-config-managing"></a>Managing</h4>
<div class="paragraph">
<p>After installing a number of different iterators, you may want to figure out which iterators have been configured.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash"># Print all configuration and grep for line containing vfs.context configuration and also show the following line
accumulo shell -u root -p ROOT_PWD -e "config -np" | grep -A 1 general.vfs.context.classpath</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will get back a listing of context classpath override configurations that map the application or user context you configured to a specific iterator jar in HDFS.</p>
</div>
</div>
<div class="sect3">
<h4 id="accumulo-config-versioning"><a class="anchor" href="#accumulo-config-versioning"></a>Versioning</h4>
<div class="paragraph">
<p>It&#8217;s of critical importance to ensure that the various GeoWave components are all the same version and that your client is of the same version that was used to write the data.</p>
</div>
</div>
<div class="sect3">
<h4 id="accumulo-config-versioning-basic"><a class="anchor" href="#accumulo-config-versioning-basic"></a>Basic</h4>
<div class="paragraph">
<p>The RPM packaged version of GeoWave puts a timestamp in the name so it&#8217;s pretty easy to verify that you have a matched set of RPMs installed. After an update of the components, you must restart Accumulo to get vfs to download the new versions and this should keep everything synched.</p>
</div>
<div class="listingblock">
<div class="title">Compare version and timestamps of installed RPMs</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">[geowaveuser@c1-master ~]$ rpm -qa | grep geowave
geowave-1.1.0-SNAPSHOT-apache-core-1.1.0-SNAPSHOT-201602012009.noarch
geowave-1.1.0-SNAPSHOT-apache-jetty-1.1.0-SNAPSHOT-201602012009.noarch
geowave-1.1.0-SNAPSHOT-apache-accumulo-1.1.0-SNAPSHOT-201602012009.noarch
geowave-1.1.0-SNAPSHOT-apache-tools-1.1.0-SNAPSHOT-201602012009.noarch</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="accumulo-config-versioning-advanced"><a class="anchor" href="#accumulo-config-versioning-advanced"></a>Advanced</h5>
<div class="paragraph">
<p>When GeoWave tables are first accessed on a tablet server, the vfs classpath tells Accumulo where to download the jar file from HDFS.
The jar file is copied into the local /tmp directory (the default general.vfs.cache.dir setting) and loaded onto the classpath.
If there is ever doubt as to if these versions match, you can use the commands below from a tablet server node to verify the version of
this artifact.</p>
</div>
<div class="listingblock">
<div class="title">Commit hash of the jar in HDFS</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">sudo -u hdfs hadoop fs -cat /accumulo/classpath/geowave/geowave-accumulo-build.properties | grep scm.revision | sed s/project.scm.revision=<i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The root directory of Accumulo in various distributions can vary, so check with 'hadoop fs -ls /' first to ensure you have the correct initial path.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Compare with the versions downloaded locally</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">sudo find /tmp -name "*geowave-accumulo.jar" -exec unzip -p {} build.properties  \; | grep scm.revision | sed s/project.scm.revision=//</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">[spohnae@c1-node-03 ~]$ sudo -u hdfs hadoop fs -cat /${ACCUMULO_ROOT}/lib/geowave-accumulo-build.properties | grep scm.revision | sed s/project.scm.revision=//
294ffb267e6691de3b9edc80e312bf5af7b2d23f <i class="conum" data-value="1"></i><b>(1)</b>
[spohnae@c1-node-03 ~]$ sudo find /tmp -name "*geowave-accumulo.jar" -exec unzip -p {} build.properties  \; | grep scm.revision | sed s/project.scm.revision=//
294ffb267e6691de3b9edc80e312bf5af7b2d23f <i class="conum" data-value="2"></i><b>(2)</b>
294ffb267e6691de3b9edc80e312bf5af7b2d23f <i class="conum" data-value="2"></i><b>(2)</b>
25cf0f895bd0318ce4071a4680d6dd85e0b34f6b</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is the version loaded into hdfs and should be present on all tablet servers once Accumulo has been restarted.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The find command will probably locate a number of different versions depending on how often you clean out /tmp.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There may be multiple versions copies present - one per JVM, the error scenario is when a tablet server is missing the correct iterator jar.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="bigtable-config"><a class="anchor" href="#bigtable-config"></a>Google BigTable Configuration</h3>
<div class="paragraph">
<p>There are no additional configuration steps required for Google BigTable, once the RPM has performed the installation.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="hbase-config"><a class="anchor" href="#hbase-config"></a>Apache HBase Configuration</h3>
<div class="paragraph">
<p>There are no additional configuration steps required for Apache HBase, once the RPM has performed the installation.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jace-jni-proxies-2"><a class="anchor" href="#jace-jni-proxies-2"></a>Jace JNI Proxies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using Jace, we are able to create JNI proxy classes for GeoWave that can be used in C/C++ applications.</p>
</div>
<div class="paragraph">
<p>Boost is required when using the Jace bindings.</p>
</div>
<div class="sect2">
<h3 id="prepackaged-source-and-binaries"><a class="anchor" href="#prepackaged-source-and-binaries"></a>Prepackaged Source and Binaries</h3>
<div class="paragraph">
<p>There is a public <a href="packages.html" target="_blank">GeoWave RPM Repo</a> where you can download a tarball for the GeoWave Jace bindings for your desired platform. If your platform is not available, there is a source tarball which can be used in conjunction with CMake to build the GeoWave Jace bindings for your desired platform.</p>
</div>
</div>
<div class="sect2">
<h3 id="generate-proxies-and-build-from-source"><a class="anchor" href="#generate-proxies-and-build-from-source"></a>Generate Proxies and Build from Source</h3>
<div class="paragraph">
<p>If you want, you can generate and build the Jace proxies yourself. For more details on how to do this, please check out the <a href="devguide.html#proxies" target="_blank">GeoWave Developer Guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="mapnik-plugin-configuration"><a class="anchor" href="#mapnik-plugin-configuration"></a>Mapnik Plugin Configuration</h3>
<div class="sect3">
<h4 id="mapnik"><a class="anchor" href="#mapnik"></a>Mapnik</h4>
<div class="paragraph">
<p><a href="http://mapnik.org/" target="_blank">Mapnik</a> is an open source toolkit for developing mapping applications. GeoWave is supported as a plugin for Mapnik for reading vector data from Accumulo.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pdal-plugin-configuration"><a class="anchor" href="#pdal-plugin-configuration"></a>PDAL Plugin Configuration</h3>
<div class="sect3">
<h4 id="pdal"><a class="anchor" href="#pdal"></a>PDAL</h4>
<div class="paragraph">
<p>The Point Data Abstraction Library <a href="http://www.pdal.io/index.html" target="_blank">PDAL</a> is a BSD licensed library for translating and manipulating point cloud data of various formats. GeoWave is supported as a plugin for PDAL for both reading and writing data to Accumulo.</p>
</div>
<div class="paragraph">
<p>Note: These instructions assume that you are using prepackaged binaries.</p>
</div>
</div>
<div class="sect3">
<h4 id="configure-cmake-for-pdal"><a class="anchor" href="#configure-cmake-for-pdal"></a>Configure CMake for PDAL</h4>
<div class="paragraph">
<p>To configure PDAL to run with GeoWave, there are a few CMake options that need to be configured. While some of the options (namely the JAVA options) may configure automatically, some will need to be set manually. Refer to the table below to get an idea for how these options would be configured on Ubuntu 14.04 LTS.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Automatically Configured?</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BUILD_PLUGIN_GEOWAVE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ON</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BUILD_GEOWAVE_TESTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ON</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GEOWAVE_RUNTIME_JAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/path/to/geowave/geowave-runtime.jar</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GEOWAVE_INCLUDE_DIR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/path/to/geowave/include</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GEOWAVE_LIBRARY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/path/to/geowave/libgeowave.so</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAVA_AWT_INCLUDE_PATH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/lib/jvm/java-8-oracle/include</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAVA_INCLUDE_PATH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/lib/jvm/java-8-oracle/include</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAVA_INCLUDE_PATH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/lib/jvm/java-8-oracle/include/linux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAVA_AWT_LIBRARY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/lib/jvm/java-8-oracle/jre/lib/amd64/libjawt.so</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAVA_JVM_LIBRARY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/lib/jvm/java-8-oracle/jre/lib/amd64/server/libjvm.so</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note: As Boost is a PDAL dependency, it should already be included.</p>
</div>
</div>
<div class="sect3">
<h4 id="build-pdal"><a class="anchor" href="#build-pdal"></a>Build PDAL</h4>
<div class="paragraph">
<p>Once CMake is configured, you can proceed with your normal PDAL build process.</p>
</div>
<div class="paragraph">
<p>Last but not least, you should ensure that the libraries specified above are available via <em>PATH</em> or <em>LD_LIBRARY_PATH</em> when building shared libraries.</p>
</div>
<div class="paragraph">
<p>Within the PDAL documentation, you can see examples of how GeoWave can be used as both a <a href="http://www.pdal.io/stages/readers.geowave.html" target="_blank">reader</a> and <a href="http://www.pdal.io/stages/writers.geowave.html" target="_blank">writer</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="puppet-2"><a class="anchor" href="#puppet-2"></a>Puppet</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-6"><a class="anchor" href="#overview-6"></a>Overview</h3>
<div class="paragraph">
<p>A GeoWave <a href="http://puppetlabs.com/" target="_blank">Puppet module</a> has been provided as part of both the tar.gz archive bundle and as an RPM. This module can be used to install the various GeoWave services onto separate nodes in a cluster or all onto a single node for development.</p>
</div>
<div class="paragraph">
<p>There are a couple of different RPM repo settings that may need setting. As the repo is disabled by default to avoid picking up new Accumulo iterator jars without coordinating a service restart, there is likely some customization required for a particular use case. Class parameters are intended to be overridden to provide extensibility.</p>
</div>
</div>
<div class="sect2">
<h3 id="options"><a class="anchor" href="#options"></a>Options</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">geowave_version</dt>
<dd>
<p>The desired version of GeoWave to install, ex: '1.1.0-SNAPSHOT'. We support concurrent installs but only one will be active at a time.</p>
</dd>
<dt class="hdlist1">hadoop_vendor_version</dt>
<dd>
<p>The Hadoop framework vendor and version against which GeoWave was built. Examples would be cdh5 or hdp2. Check the <a href="packages.html" target="_blank">available packages</a> site for currently supported hadoop distributions.</p>
</dd>
<dt class="hdlist1">install_accumulo</dt>
<dd>
<p>Install the GeoWave Accumulo Iterator on this node and upload it into HDFS. This node must have a working HDFS client.</p>
</dd>
<dt class="hdlist1">install_app</dt>
<dd>
<p>Install the GeoWave ingest utility on this node. This node must have a working HDFS client.</p>
</dd>
<dt class="hdlist1">install_app_server</dt>
<dd>
<p>Install Jetty with Geoserver and GeoWave plugin on this node.</p>
</dd>
<dt class="hdlist1">http_port</dt>
<dd>
<p>The port on which the Tomcat application server will run - defaults to 8080.</p>
</dd>
<dt class="hdlist1">repo_base_url</dt>
<dd>
<p>Used with the optional geowave::repo class to point the local package management system at a source for GeoWave RPMs. The default location is <a href="http://s3.amazonaws.com/geowave-rpms/release/noarch/" class="bare">http://s3.amazonaws.com/geowave-rpms/release/noarch/</a>.</p>
</dd>
<dt class="hdlist1">repo_enabled</dt>
<dd>
<p>To pick up an updated Accumulo iterator you&#8217;ll need to restart the Accumulo service. We don&#8217;t want to pick up new RPMs with something like a yum-cron job without coordinating a restart so the repo is disabled by default.</p>
</dd>
<dt class="hdlist1">repo_refresh_md</dt>
<dd>
<p>The number of seconds before checking for new RPMs. On a production system the default of every 6 hours should be sufficient, but you can lower this down to 0 for a development system on which you wish to pick up new packages as soon as they are made available.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="examples-2"><a class="anchor" href="#examples-2"></a>Examples</h3>
<div class="sect3">
<h4 id="development"><a class="anchor" href="#development"></a>Development</h4>
<div class="paragraph">
<p>Install everything on a one-node development system. Use the GeoWave Development RPM Repo and force a check for new RPMs with every pull (don&#8217;t use cached metadata).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby" data-lang="ruby"># Dev VM
class { 'geowave::repo':
  repo_enabled    =&gt; 1,
  repo_refresh_md =&gt; 0,
} -&gt;
class { 'geowave':
  geowave_version       =&gt; '1.1.0-SNAPSHOT',
  hadoop_vendor_version =&gt; 'apache',
  install_accumulo      =&gt; true,
  install_app           =&gt; true,
  install_app_server    =&gt; true,
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="clustered"><a class="anchor" href="#clustered"></a>Clustered</h3>
<div class="paragraph">
<p>Run the application server on a different node. Use a locally maintained rpm repo vs. the one available on the Internet and run the app server on an alternate port, so as not to conflict with another service running on that host.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby" data-lang="ruby"># Master Node
node 'c1-master' {
  class { 'geowave::repo':
    repo_base_url   =&gt; 'http://my-local-rpm-repo/geowave-rpms/dev/noarch/',
    repo_enabled    =&gt; 1,
  } -&gt;
  class { 'geowave':
    geowave_version       =&gt; '1.1.0-SNAPSHOT',
    hadoop_vendor_version =&gt; 'apache',
    install_accumulo      =&gt; true,
    install_app           =&gt; true,
  }
}

# App server node
node 'c1-app-01' {
  class { 'geowave::repo':
    repo_base_url   =&gt; 'http://my-local-rpm-repo/geowave-rpms/dev/noarch/',
    repo_enabled    =&gt; 1,
  } -&gt;
  class { 'geowave':
    geowave_version       =&gt; '1.1.0-SNAPSHOT',
    hadoop_vendor_version =&gt; 'apache',
    install_app_server    =&gt; true,
    http_port             =&gt; '8888',
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="puppet-script-management"><a class="anchor" href="#puppet-script-management"></a>Puppet script management</h3>
<div class="paragraph">
<p>As mentioned in the overview, the scripts are available from within the <a href="packages.html" target="_blank">GeoWave source tar bundle</a> (Search for gz to filter the list). You could also use the RPM package to install and pick up future updates on your puppet server.</p>
</div>
<div class="sect3">
<h4 id="source-archive"><a class="anchor" href="#source-archive"></a>Source Archive</h4>
<div class="paragraph">
<p>Unzip the source archive, locate puppet-scripts.tar.gz, and manage the scripts yourself on your Puppet Server.</p>
</div>
</div>
<div class="sect3">
<h4 id="rpm"><a class="anchor" href="#rpm"></a>RPM</h4>
<div class="paragraph">
<p>There&#8217;s a bit of a boostrap issue when first configuring the Puppet server to use the GeoWave puppet RPM as yum won&#8217;t know about the RPM Repo and the GeoWave Repo Puppet class hasn&#8217;t been installed yet. There is an RPM available that will set up the yum repo config after which you should install geowave-puppet manually and proceed to configure GeoWave on the rest of the cluster using Puppet.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">rpm -Uvh http://s3.amazonaws.com/geowave-rpms/release/noarch/geowave-repo-1.0-3.noarch.rpm
yum --enablerepo=geowave install geowave-puppet</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendices"><a class="anchor" href="#appendices"></a>Appendices</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="version"><a class="anchor" href="#version"></a>Version</h3>
<div class="paragraph">
<p>This documentation was generated for GeoWave version 1.1.0-SNAPSHOT.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="geowave-security"><a class="anchor" href="#geowave-security"></a>GeoWave Security</h3>
<div class="sect3">
<h4 id="password-security"><a class="anchor" href="#password-security"></a>Datastore Passwords</h4>
<div class="paragraph">
<p>In order to provide security around account passwords, particularly those entered through command-line, GeoWave is configured to perform encryption on password fields that are configured for datastores or other configured components. To take the topic of passwords even further, GeoWave has also been updated to support multiple options around how to pass in passwords when configuring a new datastore, rather than always having to enter passwords in clear-text at command line.</p>
</div>
<div class="sect4">
<h5 id="password-options"><a class="anchor" href="#password-options"></a>Password Options</h5>
<div class="ulist">
<div class="title">The following options are currently supported for entering passwords into GeoWave:</div>
<ul>
<li>
<p><strong>pass</strong>: <em>&lt;password&gt;</em></p>
<div class="ulist">
<ul>
<li>
<p>This option will allow for a clear-text password to be entered on command-line. It is strongly encouraged not to use this method outside of a local development environment (i.e., NOT in a production environment or where concurrent users are sharing the same system).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>env</strong>:<em>&lt;environment variable containing the password&gt;</em></p>
<div class="ulist">
<ul>
<li>
<p>This option will allow for an environment variable to be used to store the password, and the name of the environment variable to be entered on command-line in place of the password itself.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>file</strong>:<em>&lt;path to local file containing the password&gt;</em></p>
<div class="ulist">
<ul>
<li>
<p>This option will allow for the password to be inside a locally-accessible text file, and the path to file to be entered on command-line in place of the password itself. Please note that the password itself is the ONLY content to be stored in the file as this option will read all content from the file and store that as the password.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>propfile</strong>:<em>&lt;path to local properties file containing the password&gt;</em>:<em>&lt;property file key to password value&gt;</em></p>
<div class="ulist">
<ul>
<li>
<p>This option will allow for the password to be stored inside a locally-accessible properties file, and the key that stores the password field to be also specified. The value associated with the specified key will be looked up and stored as the password.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>stdin</strong></p>
<div class="ulist">
<ul>
<li>
<p>This option will result in the user being prompted after hitting enter, and will prevent the entered value from appearing in terminal history.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Users can still continue to enter their password in plain text at command line (just as was done with previous versions of GeoWave), but it is strongly encouraged not to do so outside of a local development environment (i.e., NOT in a production environment or where concurrent users are sharing the same system).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="password-encryption"><a class="anchor" href="#password-encryption"></a>Password Encryption</h4>
<div class="paragraph">
<p>Passwords are encrypted within GeoWave using a local encryption token key. It is important to not manipulate the key or internal content. By doing so, you are compromising the likelihood of not being able to encrypt new data or decrypt already encrypted data.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It is assumed that a <em>geowave</em> system command alias is registered in the terminal session being run through.</p>
</div>
<div class="paragraph">
<p>To test this, type 'geowave' (no quotes) and press Enter.</p>
</div>
<div class="paragraph">
<p>If a list of GeoWave options is returned, then the system command alias is available. Otherwise, if an error similar to or containing the term <em>'geowave: command not found'</em> is returned, the system command alias has not been registered. For details on how to register the 'geowave' system command alias, please refer to the <a href="devguide.html#packaging-code" target="_blank">GeoWave Developer Guide</a>.</p>
</div>
<div class="paragraph">
<p>If the alias system command is not registered, the full java command - e.g. java -cp {GEOWAVE_HOME} {GEOWAVE_JAR}) will need to be used in place of the 'geowave' alias.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the event that the encryption token key is compromised, or thought to be compromised, a new token key can very easily be generated using a GeoWave system command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave config newcryptokey</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above command will re-encrypt all passwords already configured against the new token key. As a result, the previous token key is obselete and can no longer be used.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This option is only useful to counter the event that only the token key file is compromised. In the event that both the token key file and encrypted password value have been compromised, it is recommended that steps are taken to change the datastore password and re-configure GeoWave to use the new password.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="configuring-console-echo"><a class="anchor" href="#configuring-console-echo"></a>Configuring Console Echo</h5>
<div class="paragraph">
<p>When the 'stdin' option is specified for passwords to be entered at command line, it is recognized that there are circumstances where the console echo is wanted to be enabled (i.e., someone looking over your shoulder), and other times where the console echo is wanted to be disabled.</p>
</div>
<div class="paragraph">
<p>For configuring the default console echo setting:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave config set geowave.console.default.echo.enabled={true|false}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above command will set the default setting for all console prompts. Default is false if not specified, meaning any characters that are typed (when console echo is disabled) are not shown on the screen.</p>
</div>
<div class="paragraph">
<p>GeoWave provides the ability to override the console echo setting for passwords specifically.
For configuring the password console echo setting:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave config set geowave.console.password.echo.enabled={true|false}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the above is specified, this setting will be applied for passwords when a user is promoted for input. By default, if the passwords console echo is not specified, the system will use the console default echo setting.</p>
</div>
</div>
<div class="sect4">
<h5 id="enabling-disabling-password-encryption"><a class="anchor" href="#enabling-disabling-password-encryption"></a>Enabling/Disabling Password Encryption</h5>
<div class="paragraph">
<p>GeoWave provides the ability to enable or disable password encryption as it is seen necessary. By default, password encryption is enabled, but can be disabled for debugging purposes.
For configuring the password encryption enabled setting:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ geowave config set geowave.encryption.enabled={true|false}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It is HIGHLY discouraged against disabling password encryption, particularly in a production (or similar) environment. While this option is available for assisting with debugging credentials, it should be avoided outside of production-like environments in order to avoid leaking data source credentials to unauthorized parties.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-11-19 00:58:12 +00:00
</div>
</div>
</body>
</html>